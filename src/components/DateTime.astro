---
/*
 * (C) Copyright 2023 Miles Pernicious
 *
 * SPDX-License-Identifier: MIT
 */

import { SiteConfig } from '@config';

export interface Props {
	date: Date,
	timeZone?: string,
	year?: 'numeric' | '2-digit',
	month?: 'numeric' | '2-digit' | 'narrow' | 'short' | 'long',
	day?: 'numeric' | '2-digit',
	weekday?: 'narrow' | 'short' | 'long',
	hour?: 'numeric' | '2-digit',
	minute?: 'numeric' | '2-digit',
	hour12?: boolean,
};

const { date, timeZone = SiteConfig.timezone, year, month, day, weekday, hour, minute, hour12 } = Astro.props;

const options = {
	timeZone: timeZone,
	year: year,
	month: month,
	day: day,
	weekday: weekday,
	hour: hour,
	minute: minute,
	hour12: hour12
};

const formatted = new Intl.DateTimeFormat('en-US', options).format(date);

---

{formatted}

<script src="@scripts/datetime-format.js"></script>
